# Внести свой вклад

Вы можете [создать отчёт], если хотите сообщить о проблеме или предложить
улучшения.

Мы будем рады, если сможете напрямую внести правки или написать страницы. В
таком случае вам нужно [сделать форк репозитория], внести правки и предложить
принять изменения ([Pull Request]).

Не знаете, что можно сделать для этого проекта? Посмотрите [открытые отчёты].
Посетите [Fedi.Tips], переведите какую-нибудь страницу оттуда.

> [!tip]
> Рекомендуется [запустить сайт локально] для проверки корректности отображения
сайта после ваших правок.

[создать отчёт]: https://github.com/KoolTechTricks/FediFAQ/issues/new/choose
[сделать форк репозитория]: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo
[Pull Request]: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork
[открытые отчёты]: https://github.com/KoolTechTricks/FediFAQ/issues
[Fedi.Tips]: https://fedi.tips
[запустить сайт локально]: README.md#локальный-запуск

## Структура репозитория

- `/archetypes` — шаблоны страниц при их создании через терминал (см. [Создание страниц](#создание-страниц))
- `/content` — содержимое страниц в формате Markdown
    - `/content/assets` — изображения
- `/layouts` — шаблоны HTML при сборке сайта (см. [документацию темы Hugo Book](https://github.com/alex-shpak/hugo-book#partials))

## Создание страниц

После того как [сайт запущен локально][запустить сайт локально], вы можете
создавать новые страницы через терминал:

```sh
hugo new content section/page.md
```

Это сгенерирует страницу со следующим содержимым:

```yaml
title: Page
weight: 0
draft: true
```

Замените `title` на заголовок страницы (отображается в названии вкладки
браузера) и `weight` на порядок в левой колонке раздела. Если страница готова к
публикации, уберите строку `draft`. Ниже после `---` пишите содержимое в формате
[Markdown](https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax).

Если вы хотите создать новый раздел, используйте эту команду:

```sh
hugo new content section/_index.md
```

## Стиль

- Используйте программы/расширения для проверки орфографии. Можно использовать
[LanguageTool](https://kooltechtricks.org/wiki/languagetool).

- Соблюдайте ширину строки в 80 символов.

## Ссылки

### Ссылки на другие страницы сайта

Если вы указываете ссылки на другие страницы сайта, то важно правильно указать
путь к ней.

Для начала нужно понять, чем отличается абсолютный путь от относительного:
```md
[Абсолютный путь](/quick-start/choose-a-server)
[Относительный путь](choose-a-server)
```

Абсолютный путь начинается с `/` и содержит полный путь, как если из ссылки
убрать `https://fedifaq.info`.

Относительный путь нужно использовать **только в страницах разделов**
(файлы `_index.md`), чтобы указать на другую страницу **этого же раздела**.
Здесь не нужно указывать путь целиком, а только часть до страницы. Например,
если вы редактируете страницу `https://fedifaq.info/quick-start`, то, чтобы
указать здесь ссылку на страницу `/quick-start/choose-a-server`, можно оставить
просто `choose-a-server`.

**Если вы не уверены как правильно указать путь, указывайте абсолютный**. Он в
любом случае будет правильно вести на нужную страницу.

### Несуществующие страницы

Если нужно указать ссылку на пока ещё не существующую страницу, то оставьте её
пустой и добавьте рядом блок с комментарием со словом "todo", чтобы можно было
найти по поиску.

```md
[Ссылка]() <!-- todo: добавить ссылку --> продолжение текста...
```

> [!important]
> **Обязательно** должно содержаться слово "todo" и быть обёрнуто в блок
комментариев. Это будет видно только при просмотре исходного файла.

## Изображения

Изображения хранятся в папке `/content/assets`.

```md
![Описание изображения](/assets/image.png)
```

## Публикация сайта

GitHub собирает и публикует сайт автоматически.

Если вы делаете pull request, то дождитесь, когда ваши изменения будут осмотрены
и приняты. Могут понадобиться правки перед принятием, почитайте оставленные
комментарии.

Если у вас есть права на создание коммитов в главную ветку (main), то просто
выполните `git push`. Статус сборки можно посмотреть во вкладке [Actions](https://github.com/KoolTechTricks/FediFAQ/actions)
или в [истории коммитов](https://github.com/KoolTechTricks/FediFAQ/commits/main).
